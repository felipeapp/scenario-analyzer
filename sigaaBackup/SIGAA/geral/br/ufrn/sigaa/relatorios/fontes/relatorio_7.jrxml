<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="relatorio_7"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="595"
		 pageHeight="842"
		 columnWidth="567"
		 columnSpacing="0"
		 leftMargin="14"
		 rightMargin="14"
		 topMargin="28"
		 bottomMargin="28"
		 whenNoDataType="NoPages"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="unidade" isForPrompting="true" class="java.lang.Integer">
		<defaultValueExpression ><![CDATA[new Integer(440)]]></defaultValueExpression>
	</parameter>
	<parameter name="ano" isForPrompting="true" class="java.lang.Integer">
		<defaultValueExpression ><![CDATA[new Integer(2006)]]></defaultValueExpression>
	</parameter>
	<parameter name="subSistema" isForPrompting="false" class="java.lang.String"/>
	<parameter name="subSistemaLink" isForPrompting="false" class="java.lang.String"/>
	<queryString><![CDATA[select distinct 
mc.id_matriz_curricular,
u.id_unidade,
u.nome as unidade_nome,
u.sigla,
c.id_curso,
me.descricao as me_modalidade,
conv.descricao as convenio,
c.nome,
g.descricao as modalidade,
h.nome as habilitacao,
mu.nome as cidade,
t.sigla as turno,
d.id_discente,
d.matricula,
p.nome as discente_nome,
p.sexo,
s.descricao as status,
'MUDANÇA DE ' || array_to_string(array[
    case when coalesce(mc2.id_turno,0)<>coalesce(mc1.id_turno,0) then 'TURNO' end,
    case when coalesce(mc2.id_habilitacao,0)<>coalesce(mc1.id_habilitacao,0) then 'HABILITAÇÃO' end,
    case when coalesce(mc2.id_grau_academico,0)<>coalesce(mc1.id_grau_academico,0) then 'MODALIDADE' end
    ]) as forma_ingresso,
case when mud.data > '$P!{ano}-06-30' then 2 else 1 end as periodo_ingresso,
(select ma.ano_referencia||'.'||ma.periodo_referencia from ensino.movimentacao_aluno ma
 inner join ensino.tipo_movimentacao_aluno tma on (ma.id_tipo_movimentacao_aluno = tma.id_tipo_movimentacao_aluno)
 where d.id_discente = ma.id_discente
 and tma.grupo = 'AP' -- Afastamento Permanente
 and ma.data_cadastro_retorno is null
 and d.status not in (1, 8, 9, 5, 2) -- status ativos
 order by ma.data_ocorrencia desc limit 1) as ano_periodo_saida,
(select tma.descricao from ensino.movimentacao_aluno ma
 inner join ensino.tipo_movimentacao_aluno tma on (ma.id_tipo_movimentacao_aluno = tma.id_tipo_movimentacao_aluno)
 where d.id_discente = ma.id_discente
 and tma.grupo = 'AP' /* Afastamento Permanente */
 and ma.data_cadastro_retorno is null
 and d.status not in (1, 8, 9, 5, 2) /* status ativos */
 order by ma.data_ocorrencia desc limit 1) as tipo_saida
from public.discente d 
 inner join graduacao.mudanca_curricular mud on mud.id_discente=d.id_discente
 inner join graduacao.matriz_curricular mc1 on mc1.id_matriz_curricular=mud.id_matriz_antiga
 inner join graduacao.matriz_curricular mc2 on mc2.id_matriz_curricular=mud.id_matriz_nova
 left  join public.status_discente s on s.status=d.status
 left  join ensino.forma_ingresso fi on fi.id_forma_ingresso=d.id_forma_ingresso
 inner join comum.pessoa p on p.id_pessoa=d.id_pessoa
 inner join public.curso c on c.id_curso=d.id_curso
 left join ensino.convenio_academico conv on (c.id_convenio = conv.id_convenio_academico)
 inner join comum.municipio mu on mu.id_municipio=c.id_municipio
 inner join comum.unidade  u on u.id_unidade=c.id_unidade
 inner join comum.modalidade_educacao me on me.id_modalidade_educacao=c.id_modalidade_educacao
 inner join graduacao.discente_graduacao dg on dg.id_discente_graduacao=d.id_discente
 inner join graduacao.matriz_curricular mc on mc.id_matriz_curricular=dg.id_matriz_curricular
 left  join ensino.grau_academico g on g.id_grau_academico=mc.id_grau_academico
 left  join graduacao.habilitacao h on h.id_habilitacao=mc.id_habilitacao
 left  join ensino.turno t on t.id_turno=mc.id_turno
 where ((c.id_unidade=$P{unidade}) or ($P{unidade}=-1))
    and c.nivel='G'
    and date_part('year',mud.data)=$P{ano}
union
select distinct 
mc.id_matriz_curricular,
u.id_unidade,
u.nome as unidade_nome,
u.sigla,
c.id_curso,
me.descricao as me_modalidade,
conv.descricao as convenio,
c.nome,
g.descricao as modalidade,
h.nome as habilitacao,
mu.nome as cidade,
t.sigla as turno,
d.id_discente,
d.matricula,
p.nome as discente_nome,
p.sexo,
s.descricao as status, 
fi.descricao as forma_ingresso, 
d.periodo_ingresso,
(select ma.ano_referencia||'.'||ma.periodo_referencia from ensino.movimentacao_aluno ma
 inner join ensino.tipo_movimentacao_aluno tma on (ma.id_tipo_movimentacao_aluno = tma.id_tipo_movimentacao_aluno)
 where d.id_discente = ma.id_discente
 and tma.grupo = 'AP' -- Afastamento Permanente
 and ma.data_cadastro_retorno is null
 and d.status not in (1, 8, 9, 5, 2) -- status ativos
 order by ma.data_ocorrencia desc limit 1) as ano_periodo_saida,
(select tma.descricao from ensino.movimentacao_aluno ma
 inner join ensino.tipo_movimentacao_aluno tma on (ma.id_tipo_movimentacao_aluno = tma.id_tipo_movimentacao_aluno)
 where d.id_discente = ma.id_discente
 and tma.grupo = 'AP' /* Afastamento Permanente */
 and ma.data_cadastro_retorno is null
 and d.status not in (1, 8, 9, 5, 2) /* status ativos */
 order by ma.data_ocorrencia desc limit 1) as tipo_saida
from public.discente d 
 left  join public.status_discente s on s.status=d.status
 left  join ensino.forma_ingresso fi on fi.id_forma_ingresso=d.id_forma_ingresso
 inner join comum.pessoa p on p.id_pessoa=d.id_pessoa
 inner join public.curso c on c.id_curso=d.id_curso
 left join ensino.convenio_academico conv on (c.id_convenio = conv.id_convenio_academico)
 inner join comum.municipio mu on mu.id_municipio=c.id_municipio
 inner join comum.unidade u on u.id_unidade=c.id_unidade
 inner join comum.modalidade_educacao me on me.id_modalidade_educacao=c.id_modalidade_educacao
 inner join graduacao.discente_graduacao dg on dg.id_discente_graduacao=d.id_discente
 inner join graduacao.matriz_curricular mc on mc.id_matriz_curricular=dg.id_matriz_curricular
  left  join ensino.grau_academico g on g.id_grau_academico=mc.id_grau_academico
  left  join graduacao.habilitacao h on h.id_habilitacao=mc.id_habilitacao
  left  join ensino.turno t on t.id_turno=mc.id_turno
 where ((c.id_unidade=$P{unidade}) or ($P{unidade}=-1))
    and c.nivel='G'
    and d.ano_ingresso= $P{ano}
    and d.status <> 10
    and d.id_forma_ingresso not in (34110, 34121, 34126) /* vestibular, 2. conc. vestibular, vestibular sec/rn */
order by id_unidade,nome,modalidade,habilitacao,turno, periodo_ingresso,discente_nome]]></queryString>

	<field name="id_matriz_curricular" class="java.lang.Integer"/>
	<field name="id_unidade" class="java.lang.Integer"/>
	<field name="unidade_nome" class="java.lang.String"/>
	<field name="sigla" class="java.lang.String"/>
	<field name="id_curso" class="java.lang.Integer"/>
	<field name="me_modalidade" class="java.lang.String"/>
	<field name="convenio" class="java.lang.String"/>
	<field name="nome" class="java.lang.String"/>
	<field name="modalidade" class="java.lang.String"/>
	<field name="habilitacao" class="java.lang.String"/>
	<field name="cidade" class="java.lang.String"/>
	<field name="turno" class="java.lang.String"/>
	<field name="id_discente" class="java.lang.Integer"/>
	<field name="matricula" class="java.lang.Long"/>
	<field name="discente_nome" class="java.lang.String"/>
	<field name="sexo" class="java.lang.String"/>
	<field name="status" class="java.lang.String"/>
	<field name="forma_ingresso" class="java.lang.String"/>
	<field name="periodo_ingresso" class="java.lang.Integer"/>
	<field name="ano_periodo_saida" class="java.lang.String"/>
	<field name="tipo_saida" class="java.lang.String"/>

	<variable name="qtdRegistros" class="java.lang.Integer" resetType="Group" resetGroup="departamento" calculation="Count">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
	</variable>
	<variable name="qtdRegistrosTotal" class="java.lang.Integer" resetType="Report" calculation="Count">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
	</variable>

		<group  name="modalidadeEducacao" >
			<groupExpression><![CDATA[$F{me_modalidade} + $F{convenio}]]></groupExpression>
			<groupHeader>
			<band height="25"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="5"
						width="567"
						height="17"
						key="textField-69"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="12" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["MODALIDADE DE ENSINO: "+$F{me_modalidade}+
($F{convenio} != null? " / CONVÊNIO: " + $F{convenio} : "")]]></textFieldExpression>
				</textField>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="13"  isSplitAllowed="true" >
			</band>
			</groupFooter>
		</group>
		<group  name="departamento" >
			<groupExpression><![CDATA[$F{id_unidade}]]></groupExpression>
			<groupHeader>
			<band height="22"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="3"
						width="567"
						height="17"
						key="textField-107">
							<printWhenExpression><![CDATA[$P{unidade} <= 0]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="12" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["CENTRO: "+$F{unidade_nome}]]></textFieldExpression>
				</textField>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="16"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="567"
						height="14"
						key="textField-109"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["TOTAL DA UNIDADE: " + $V{departamento_COUNT}]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<group  name="curso" isReprintHeaderOnEachPage="true" >
			<groupExpression><![CDATA[$F{id_curso}]]></groupExpression>
			<groupHeader>
			<band height="54"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="7"
						width="567"
						height="18"
						key="textField-70"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{nome}+
($F{modalidade}==null?"":" - "+$F{modalidade})+
($F{habilitacao}==null?"":" - "+$F{habilitacao})+
($F{turno}==null?"":" - "+$F{turno}) + " / "+$F{sigla}+" - "+
$F{cidade}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="0"
						y="25"
						width="60"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-44"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Matrícula]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="60"
						y="25"
						width="160"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-57"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Nome]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="220"
						y="25"
						width="16"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-58"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle" rotation="Left">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Sexo]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="236"
						y="25"
						width="59"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-59"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Status]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="295"
						y="25"
						width="108"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-60"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Forma de Ingresso]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="403"
						y="40"
						width="39"
						height="14"
						backcolor="#DEDFE3"
						key="staticText-61"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<text><![CDATA[Ingresso]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="442"
						y="40"
						width="39"
						height="14"
						backcolor="#DEDFE3"
						key="staticText-62"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<text><![CDATA[Saída]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="481"
						y="25"
						width="86"
						height="29"
						backcolor="#DEDFE3"
						key="staticText-63"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="8" isBold="true"/>
					</textElement>
				<text><![CDATA[Forma de Saída]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="403"
						y="25"
						width="78"
						height="15"
						backcolor="#DEDFE3"
						key="staticText-64"
						isPrintInFirstWholeBand="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<text><![CDATA[Ano-Período de]]></text>
				</staticText>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="14"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="567"
						height="14"
						key="textField-108"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["TOTAL: " + $V{curso_COUNT}]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<background>
			<band height="0"  isSplitAllowed="true" >
				<printWhenExpression><![CDATA[new Boolean(false)]]></printWhenExpression>
			</band>
		</background>
		<title>
			<band height="58"  isSplitAllowed="true" >
				<subreport  isUsingCache="true">
					<reportElement
						x="-14"
						y="0"
						width="564"
						height="17"
						key="subreport-1"
						isPrintRepeatedValues="false"/>
					<subreportParameter  name="titulo">
						<subreportParameterExpression><![CDATA["Relatório Analítico de Discentes Ingressantes por Forma de Ingresso, Exceto Vestibular"]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="subsistema">
						<subreportParameterExpression><![CDATA[$P{subSistema}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="subSistemaLink">
						<subreportParameterExpression><![CDATA[$P{subSistemaLink}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression  class="java.io.InputStream"><![CDATA[this.getClass().getResourceAsStream("br/ufrn/sigaa/relatorios/fontes/tituloUFRN.jasper")]]></subreportExpression>
				</subreport>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="55"
						width="567"
						height="0"
						key="line-5"
						positionType="Float"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<staticText>
					<reportElement
						x="0"
						y="22"
						width="54"
						height="15"
						key="staticText-55"
						positionType="Float"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Centro:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="54"
						y="22"
						width="422"
						height="15"
						key="textField-105"
						positionType="Float"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[($P{unidade}.intValue() <= 0 ? "TODOS" :  $F{unidade_nome})]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						x="0"
						y="37"
						width="54"
						height="15"
						key="staticText-56"
						positionType="Float"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<text><![CDATA[Ano:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="54"
						y="37"
						width="66"
						height="15"
						key="textField-106"
						positionType="Float"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$P{ano}]]></textFieldExpression>
				</textField>
			</band>
		</title>
		<pageHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="14"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="60"
						height="14"
						key="textField-43"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Long"><![CDATA[$F{matricula}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="220"
						y="0"
						width="16"
						height="14"
						key="textField-67"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{sexo}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="60"
						y="0"
						width="160"
						height="14"
						key="textField-100"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{discente_nome}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="236"
						y="0"
						width="59"
						height="14"
						key="textField-102"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{status}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="295"
						y="0"
						width="108"
						height="14"
						key="textField-103"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{forma_ingresso}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="403"
						y="0"
						width="39"
						height="14"
						key="textField-104"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="8" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{ano}+"."+$F{periodo_ingresso}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="481"
						y="0"
						width="86"
						height="14"
						key="textField"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{tipo_saida} == null ? "Sem observações" : $F{tipo_saida}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="442"
						y="0"
						width="39"
						height="14"
						key="textField"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{ano_periodo_saida} == null ? " - " : $F{ano_periodo_saida}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="16"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="466"
						y="0"
						width="83"
						height="16"
						key="textField-37"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Pág. " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="549"
						y="0"
						width="18"
						height="16"
						key="textField-110"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Left">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
