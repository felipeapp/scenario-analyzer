<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">

<!-- 
# Superintendencia de Informatica - UFRN
# SIGAA - Sistema Integrado de Gestao de Atividades Academicas
# Arquivo de configuracao do Struts - PROJETO PESQUISA
 -->
<struts-config>

    <form-beans>
		<form-bean name="projetoPesquisaForm" type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="id" 						type="java.lang.Integer" />
			<form-property name="nome" 						type="java.lang.String" />
			<form-property name="dataInicio"				type="java.lang.String" />
			<form-property name="dataFim" 					type="java.lang.String" />
			
			<form-property name="descricao"					type="java.lang.String" />			
			<form-property name="renovacoes"				type="java.lang.Integer" />			
			<form-property name="situacao" 					type="java.lang.String" />		
			<form-property name="email"						type="java.lang.String" />
			<form-property name="isolado"					type="java.lang.Boolean" />			
			
			<form-property name="totalDespesas"				type="java.lang.Float" />			
			<form-property name="qtdBolsasNovas"			type="java.lang.Integer" />			
			<form-property name="qtdBolsasRenovadas"		type="java.lang.Integer" />			
			
			<form-property name="tipoGrandeAreaCNPQ"		type="br.ufrn.sigaa.dominio.TipoGrandeAreaCNPQ" />			

			<form-property name="tipoAreaConhecimentoCNPQ"	type="br.ufrn.sigaa.dominio.TipoAreaConhecimentoCNPQ" />			
				
		</form-bean>
		
		<form-bean name="projetoPesquisaDadosForm" type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="id" 						type="java.lang.Integer" />
			<form-property name="introducao"				type="java.lang.String" />
			<form-property name="objetivos"					type="java.lang.String" />
			<form-property name="justificativa"				type="java.lang.String" />
			<form-property name="metodologia"				type="java.lang.String" />
			<form-property name="bibliografia"				type="java.lang.String" />		
		
		</form-bean>
		
		<form-bean name="projetoPesquisaEquipeDiscenteForm" type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="id" 						type="java.lang.Integer" />		
			<form-property name="discente"					type="br.ufrn.sigaa.dominio.Discente" />		
			<form-property name="orientador"				type="br.ufrn.sigaa.dominio.Servidor" />					
			<form-property name="planoTrabalho"				type="br.ufrn.sigaa.pesquisa.dominio.PlanoTrabalho" />			
		</form-bean>
		
		<form-bean name="projetoPesquisaEquipeServidorForm" type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="id" 						type="java.lang.Integer" />		
			<form-property name="servidor"					type="br.ufrn.sigaa.dominio.Servidor" />					
			<form-property name="cargaHoraria" 				type="java.lang.Integer" />		
		</form-bean>	
		
		<form-bean name="financiamentoProjetoPesquisaForm" 		type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="id" 							type="java.lang.Integer" />		
			<form-property name="entidadeFinanciadora"			type="br.ufrn.sigaa.pesquisa.dominio.EntidadeFinanciadora" />					
			<form-property name="tipoNaturezaFinanc"			type="br.ufrn.sigaa.pesquisa.dominio.TipoNaturezaFinanc" />						
			<form-property name="projetoPesquisa"				type="br.ufrn.sigaa.pesquisa.dominio.ProjetoPesquisa" />						

			<form-property name="dataInicio"					type="java.lang.String" />			
			<form-property name="dataFim"						type="java.lang.String" />			

			<form-property name="modalidadeBolsa"				type="br.ufrn.sigaa.pesquisa.dominio.ModalidadeBolsaExterna" />						
			<form-property name="tipoBolsaExterna"				type="br.ufrn.sigaa.pesquisa.dominio.TipoBolsaExterna" />						
			<form-property name="valor"							type="java.lang.Float" />						
			
		</form-bean>	

		<form-bean name="definirPeriodoSubmissaoProjetoForm"	type="br.ufrn.sigaa.arq.struts.SigaaForm">
			<form-property name="dataInicio"					type="java.lang.String" />			
			<form-property name="dataFim"						type="java.lang.String" />			
		</form-bean>			
		
		
    </form-beans>

    <action-mappings>


		<action path="/pesquisa/criarProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm"
					 input="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" parameter="criar" validate="false">
			<forward name="sucesso_interno" 			path="/verMenuPesquisa.do" />
			<forward name="sucesso_externo" 			path="/verMenuPesquisa.do" />
			<forward name="sucesso_interno_financiado" 			path="/verMenuPesquisa.do" />
			<forward name="sucesso_externo_financiado" 			path="/verMenuPesquisa.do" />
			<forward name="sucesso" 					path="/verMenuPesquisa.do" />
			<forward name="falha" 						path="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />
		</action>
		
		<action path="/pesquisa/alterarProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm"
					 input="/pesquisa/recarregarProjetoPesquisaForm.do" parameter="alterar" validate="true">
			<forward name="sucesso" 			path="/pesquisa/listarProjetosPesquisa.do" />
			<forward name="falha" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />
		</action>
		
		<action path="/pesquisa/removerProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				parameter="remover" validate="false">
			<forward name="sucesso" 			path="/pesquisa/listarProjetosPesquisa.do" />
			<forward name="falha" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />
		</action>
		
		<action path="/pesquisa/cancelarProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				parameter="cancelar" validate="false">
			<forward name="sucesso" 			path="/verMenuPesquisa.do" />
		</action>
		
		<action path="/pesquisa/prepararTelaBusca" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				parameter="prepararTelaBusca" validate="false">
			<forward name="sucesso" 			path="/pesquisa/listarProjetosPesquisa.do" />
		</action>
		
		<action path="/pesquisa/listarProjetosPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				parameter="listar" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/lista.jsp" />
		</action>


		
		<action path="/pesquisa/detalharProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				parameter="detalhar" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/form.jsp" />
			<forward name="form"	 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/form.jsp" />
			<forward name="resumo"	 			path="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />			
			<forward name="visualizacao" 		path="/WEB-INF/jsp/pesquisa/projetopesquisa.visualizacao" />			
		</action>
		
		
		<action path="/pesquisa/visualizarProjetoPesquisa" forward="/pesquisa/detalharProjetoPesquisa.do?acao=visualizar" name="projetoPesquisaForm"  />
		
		<action path="/pesquisa/verProjetoPesquisaForm" forward="/pesquisa/detalharProjetoPesquisa.do?acao=criar" />
		<action path="/pesquisa/recarregarProjetoPesquisaForm" forward="/pesquisa/detalharProjetoPesquisa.do?acao=recarregar" />
		<action path="/pesquisa/resumirProjetoPesquisaForm" forward="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />
		
		<action path="/pesquisa/listarServidores" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				input="/pesquisa/projetoPesquisa/listarFinanciamentos.do" parameter="listarServidores" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
		</action>

		
		<!-- essa action grava no projetoPesquisa em sessao as informaçoes basicas vindas do formulario 
		referente ao projeto. Ex: nome, descricao, linha de pesquisa, coordenador, data criacao, etc -->
		<action path="/pesquisa/projetoPesquisa/entrarDados" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaForm" 
				input="/pesquisa/recarregarProjetoPesquisaForm.do" parameter="entrarDados" validate="true">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.dados" />
		</action>
		
		<!-- essa action grava as seguinte informações: introduçao, objetivos, metodologia, biblografia 
		no projeto de pesquisa em sessao. 
		E leva para a tela de inserçao das entidades financiadoras juntamento com o programa de financiamento
		acessada somente no caso de o projeto ter financiamento externo.
		Caso o projeto nao tenha financiamento externo e tenha bolsas entao levara para tela de definiçao da 
		equipe do projeto.
		Caso nao tenha financiamento externo ou bolsa levara para a tela de resumo das informaçoes do projeto-->
		<action path="/pesquisa/projetoPesquisa/listarFinanciamentos" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaDadosForm" 
				input="/pesquisa/recarregarProjetoPesquisaForm.do" parameter="listarFinanciamentos" validate="true">
			<forward name="FINANCIAMENTO" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
			<forward name="EQUIPE" 					path="/WEB-INF/jsp/pesquisa/projetopesquisa.montagem" />
			<forward name="SERVIDORES" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
			<forward name="resumo"	 				path="/WEB-INF/jsp/pesquisa/projetopesquisa/resumo.jsp" />						
		</action>
		
		<!-- esta action leva para a tela de definição da equipe do projeto, adicionar servidores e discentes!-->
		<action path="/pesquisa/projetoPesquisa/listarEquipeProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="financiamentoProjetoPesquisaForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" parameter="listarEquipeProjetoPesquisa" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.montagem" />
		</action>

		<!-- essa action adiciona um discente a lista de discentes de um projeto -->
		<action path="/pesquisa/projetoPesquisa/adicionarEquipeProjetoDiscente" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaEquipeDiscenteForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" parameter="adicionarEquipeProjetoDiscente" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" />
			<forward name="falha" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" />
		</action>

		<!-- essa action adiciona um servidor a lista de servidor de um projeto -->
		<action path="/pesquisa/projetoPesquisa/adicionarEquipeProjetoServidor" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaEquipeServidorForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" parameter="adicionarEquipeProjetoServidor" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
		</action>	
		
		<!-- essa action remove um servidor da lista de servidor de um projeto -->
		<action path="/pesquisa/projetoPesquisa/removerEquipeProjetoServidor" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaEquipeServidorForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" parameter="removerEquipeProjetoServidor" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.servidores" />
		</action>
		
		<!-- essa action remove um discente da lista de discentes de um projeto -->
		<action path="/pesquisa/projetoPesquisa/removerEquipeProjetoDiscente" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="projetoPesquisaEquipeDiscente" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" parameter="removerEquipeProjetoDiscente" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.discentes" />			
		</action>		
				
		<!-- essa action adiciona um financiamento a lista de financiamentos de um projeto -->
		<action path="/pesquisa/projetoPesquisa/adicionarFinanciamentoProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="financiamentoProjetoPesquisaForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" parameter="adicionarFinanciamentoProjetoPesquisa" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
		</action>	
		
		<!-- essa action remove um financiamento da lista de finaciamentos de um projeto -->
		<action path="/pesquisa/projetoPesquisa/removerFinanciamentoProjetoPesquisa" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="financiamentoProjetoPesquisaForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" parameter="removerFinanciamentoProjetoPesquisa" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
		</action>

		<!-- Action para o caso de uso "Definir Periodo  de Submissao de Projetos -->
		<action path="/pesquisa/projetoPesquisa/definirPeriodoSubmissaoProjeto" type="br.ufrn.sigaa.pesquisa.struts.ProjetoPesquisaAction" name="definirPeriodoSubmissaoProjetoForm" 
				input="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" parameter="definirPeriodoSubmissaoProjeto" validate="false">
			<forward name="sucesso" 			path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
			<forward name="falha" 				path="/WEB-INF/jsp/pesquisa/projetopesquisa.financiamento" />
		</action>

		<!-- actions ajax -->
		<action path="/pesquisa/projetoPesquisa/carregarAreas" 
			type="br.ufrn.sigaa.pesquisa.struts.AjaxProjetoActions" 
			name="projetoPesquisaForm" 
			parameter="executeAjax" 
			validate="false">
		</action>

    </action-mappings>

</struts-config>

