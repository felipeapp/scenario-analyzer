<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="relatorio_3"
		 columnCount="1"
		 printOrder="Vertical"
		 orientation="Portrait"
		 pageWidth="595"
		 pageHeight="842"
		 columnWidth="567"
		 columnSpacing="0"
		 leftMargin="14"
		 rightMargin="14"
		 topMargin="2"
		 bottomMargin="1"
		 whenNoDataType="AllSectionsNoDetail"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="unidade" isForPrompting="false" class="java.lang.Integer">
		<defaultValueExpression ><![CDATA[new Integer(-1)]]></defaultValueExpression>
	</parameter>
	<parameter name="ano" isForPrompting="false" class="java.lang.Integer">
		<defaultValueExpression ><![CDATA[new Integer(2011)]]></defaultValueExpression>
	</parameter>
	<parameter name="subSistema" isForPrompting="false" class="java.lang.String"/>
	<parameter name="subSistemaLink" isForPrompting="false" class="java.lang.String"/>
	<queryString><![CDATA[SELECT 
	*
FROM (
SELECT DISTINCT 
       CASE 
            WHEN (SELECT COUNT(*) 
                  FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
                  WHERE MCU.ID_DISCENTE=D.ID_DISCENTE
                  AND DATE_PART('YEAR', MCU.DATA) > $P{ano}
                  ) > 0 
                  THEN (SELECT MCU.ID_MATRIZ_ANTIGA 
			FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
			WHERE MCU.ID_DISCENTE=D.ID_DISCENTE 
			AND DATE_PART('YEAR', MCU.DATA) > $P{ano} 
			ORDER BY MCU.DATA ASC
			LIMIT 1
			)
            ELSE MC.ID_MATRIZ_CURRICULAR
       END AS ID_MATRIZ_CURRICULAR,
       U.NOME AS UNIDADE,U.ID_UNIDADE,U.SIGLA,C.ID_CURSO,
       CASE
            WHEN STRPOS(C.NOME,'PROBASICA')>0 THEN ' PROBASICA'
            ELSE ME.DESCRICAO
       END AS ME_MODALIDADE,
       C.NOME,
       CASE 
            WHEN (SELECT COUNT(*) 
                  FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
                  WHERE MCU.ID_DISCENTE=D.ID_DISCENTE
                  AND DATE_PART('YEAR', MCU.DATA) > $P{ano}
                  ) > 0 
                  THEN (SELECT G_OLD.DESCRICAO
			FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
			LEFT JOIN GRADUACAO.MATRIZ_CURRICULAR MC_OLD ON MC_OLD.ID_MATRIZ_CURRICULAR=MCU.ID_MATRIZ_ANTIGA
			LEFT JOIN ENSINO.GRAU_ACADEMICO G_OLD ON G_OLD.ID_GRAU_ACADEMICO=MC_OLD.ID_GRAU_ACADEMICO
			WHERE MCU.ID_DISCENTE=D.ID_DISCENTE 
			AND DATE_PART('YEAR', MCU.DATA) > $P{ano}
			ORDER BY MCU.DATA ASC
			LIMIT 1
			)
            ELSE G.DESCRICAO
       END AS MODALIDADE,
       CASE 
            WHEN (SELECT COUNT(*) 
                  FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
                  WHERE MCU.ID_DISCENTE=D.ID_DISCENTE
                  AND DATE_PART('YEAR', MCU.DATA) > $P{ano}
                  ) > 0 
                  THEN (SELECT H_OLD.NOME
			FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
			LEFT JOIN GRADUACAO.MATRIZ_CURRICULAR MC_OLD ON MC_OLD.ID_MATRIZ_CURRICULAR=MCU.ID_MATRIZ_ANTIGA
			LEFT  JOIN GRADUACAO.HABILITACAO H_OLD ON H_OLD.ID_HABILITACAO=MC_OLD.ID_HABILITACAO
			WHERE MCU.ID_DISCENTE=D.ID_DISCENTE 
			AND DATE_PART('YEAR', MCU.DATA) > $P{ano} 
			ORDER BY MCU.DATA ASC
			LIMIT 1
			)
            ELSE H.NOME
       END AS HABILITACAO,
       MU.NOME AS CIDADE,
       CASE 
            WHEN (SELECT COUNT(*) 
                  FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
                  WHERE MCU.ID_DISCENTE=D.ID_DISCENTE
                  AND DATE_PART('YEAR', MCU.DATA) > $P{ano}
                  ) > 0 
                  THEN (SELECT T_OLD.SIGLA
			FROM GRADUACAO.MUDANCA_CURRICULAR MCU 
			LEFT JOIN GRADUACAO.MATRIZ_CURRICULAR MC_OLD ON MC_OLD.ID_MATRIZ_CURRICULAR=MCU.ID_MATRIZ_ANTIGA
			LEFT  JOIN ENSINO.TURNO T_OLD ON T_OLD.ID_TURNO=MC_OLD.ID_TURNO
			WHERE MCU.ID_DISCENTE=D.ID_DISCENTE 
			AND DATE_PART('YEAR', MCU.DATA) > $P{ano} 
			ORDER BY MCU.DATA ASC
			LIMIT 1
			)
            ELSE T.SIGLA 
       END AS TURNO,
       D.ID_DISCENTE,D.MATRICULA,P.NOME AS DISCENTE_NOME,P.SEXO,
       S.DESCRICAO AS STATUS, FI.DESCRICAO AS FORMA_INGRESSO, D.ANO_INGRESSO, D.PERIODO_INGRESSO, P.DATA_NASCIMENTO
 FROM PUBLIC.DISCENTE D 
 LEFT  JOIN PUBLIC.STATUS_DISCENTE S		ON S.STATUS=D.STATUS
 LEFT  JOIN ENSINO.FORMA_INGRESSO FI		ON FI.ID_FORMA_INGRESSO=D.ID_FORMA_INGRESSO
 INNER JOIN COMUM.PESSOA P 			    ON P.ID_PESSOA=D.ID_PESSOA
 INNER JOIN PUBLIC.CURSO C 				    ON C.ID_CURSO=D.ID_CURSO
 INNER JOIN COMUM.MUNICIPIO MU             ON MU.ID_MUNICIPIO=C.ID_MUNICIPIO
 INNER JOIN COMUM.UNIDADE  U 				ON U.ID_UNIDADE=C.ID_UNIDADE
 INNER JOIN COMUM.MODALIDADE_EDUCACAO ME   ON ME.ID_MODALIDADE_EDUCACAO=C.ID_MODALIDADE_EDUCACAO
 INNER JOIN GRADUACAO.DISCENTE_GRADUACAO DG          ON DG.ID_DISCENTE_GRADUACAO=D.ID_DISCENTE
 INNER JOIN GRADUACAO.MATRIZ_CURRICULAR MC  	ON MC.ID_MATRIZ_CURRICULAR=DG.ID_MATRIZ_CURRICULAR
  LEFT JOIN ENSINO.GRAU_ACADEMICO G		ON G.ID_GRAU_ACADEMICO=MC.ID_GRAU_ACADEMICO
  LEFT JOIN GRADUACAO.HABILITACAO H		ON H.ID_HABILITACAO=MC.ID_HABILITACAO
  LEFT JOIN ENSINO.TURNO T			ON T.ID_TURNO=MC.ID_TURNO
 WHERE
    ((C.ID_UNIDADE=$P{unidade}) OR ($P{unidade}=-1))
    AND C.NIVEL='G'
    AND D.ID_DISCENTE IN (SELECT ID_DISCENTE FROM ENSINO.MATRICULA_COMPONENTE WHERE ANO=$P{ano} AND ID_SITUACAO_MATRICULA IN (2,4,6,7,8,9,21,22,23))
) A
 ORDER BY ASCII(ME_MODALIDADE),ME_MODALIDADE,SIGLA,CIDADE,NOME,MODALIDADE,HABILITACAO,TURNO,DISCENTE_NOME]]></queryString>

	<field name="id_matriz_curricular" class="java.lang.Integer"/>
	<field name="unidade" class="java.lang.String"/>
	<field name="id_unidade" class="java.lang.Integer"/>
	<field name="sigla" class="java.lang.String"/>
	<field name="id_curso" class="java.lang.Integer"/>
	<field name="me_modalidade" class="java.lang.String"/>
	<field name="nome" class="java.lang.String"/>
	<field name="modalidade" class="java.lang.String"/>
	<field name="habilitacao" class="java.lang.String"/>
	<field name="cidade" class="java.lang.String"/>
	<field name="turno" class="java.lang.String"/>
	<field name="id_discente" class="java.lang.Integer"/>
	<field name="matricula" class="java.lang.Long"/>
	<field name="discente_nome" class="java.lang.String"/>
	<field name="sexo" class="java.lang.String"/>
	<field name="status" class="java.lang.String"/>
	<field name="forma_ingresso" class="java.lang.String"/>
	<field name="ano_ingresso" class="java.lang.Integer"/>
	<field name="periodo_ingresso" class="java.lang.Integer"/>
	<field name="data_nascimento" class="java.sql.Date"/>

	<sortField name="me_modalidade" />
	<sortField name="sigla" />
	<sortField name="cidade" />
	<sortField name="nome" />
	<sortField name="modalidade" />
	<sortField name="habilitacao" />
	<sortField name="turno" />
	<sortField name="discente_nome" />

	<variable name="qtdRegistros" class="java.lang.Integer" resetType="Group" resetGroup="nomeDepartamento" calculation="Count">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
	</variable>
	<variable name="qtdRegistrosTotal" class="java.lang.Integer" resetType="Group" resetGroup="totalUFRN" calculation="Count">
		<variableExpression><![CDATA[new Boolean(true)]]></variableExpression>
	</variable>

		<group  name="totalUFRN" >
			<groupExpression><![CDATA[new Boolean(true)]]></groupExpression>
			<groupHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
			</groupHeader>
			<groupFooter>
			<band height="13"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="511"
						y="0"
						width="56"
						height="13"
						key="textField-113"
						stretchType="RelativeToTallestObject"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$V{totalUFRN_COUNT}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="0"
						y="0"
						width="511"
						height="13"
						key="textField-114"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Total Geral:"]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<group  name="modalidadeEducacao" isStartNewPage="true" >
			<groupExpression><![CDATA[$F{me_modalidade}]]></groupExpression>
			<groupHeader>
			<band height="23"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="3"
						width="567"
						height="19"
						key="textField-69"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["GRADUAÇÃO ("+$F{me_modalidade}+")"]]></textFieldExpression>
				</textField>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="13"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="0"
						y="0"
						width="511"
						height="13"
						key="textField-112"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Total "+$F{me_modalidade}+":"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="511"
						y="0"
						width="56"
						height="13"
						key="textField-111"
						stretchType="RelativeToTallestObject"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$V{modalidadeEducacao_COUNT}]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<group  name="nomeDepartamento" isReprintHeaderOnEachPage="true" >
			<groupExpression><![CDATA[$F{id_matriz_curricular}]]></groupExpression>
			<groupHeader>
			<band height="44"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="10"
						width="567"
						height="21"
						key="textField-70"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="4" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="4"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="10" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{cidade}+" - "+$F{sigla}+" - "+$F{nome}+($F{modalidade}==null?"":" - "+$F{modalidade})+($F{habilitacao}==null?"":" - "+$F{habilitacao})+($F{turno}==null?"":" - "+$F{turno})]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement
						mode="Opaque"
						x="28"
						y="32"
						width="51"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-44"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Matrícula]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="79"
						y="32"
						width="226"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-45"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Nome]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="305"
						y="32"
						width="22"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-46"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Sexo]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="0"
						y="32"
						width="28"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-48"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Seq.]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="327"
						y="32"
						width="76"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-50"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Status]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="473"
						y="32"
						width="38"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-53"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Ingresso]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="403"
						y="32"
						width="70"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-54"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Forma Ingresso]]></text>
				</staticText>
				<staticText>
					<reportElement
						mode="Opaque"
						x="511"
						y="32"
						width="56"
						height="12"
						backcolor="#CBCBCB"
						key="staticText-55"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="6" isBold="true"/>
					</textElement>
				<text><![CDATA[Nascimento]]></text>
				</staticText>
			</band>
			</groupHeader>
			<groupFooter>
			<band height="13"  isSplitAllowed="true" >
				<staticText>
					<reportElement
						mode="Transparent"
						x="0"
						y="0"
						width="511"
						height="13"
						key="staticText-56"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<text><![CDATA[Total:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="511"
						y="0"
						width="56"
						height="13"
						key="textField-110"
						stretchType="RelativeToTallestObject"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="2" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="7" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$V{qtdRegistros}]]></textFieldExpression>
				</textField>
			</band>
			</groupFooter>
		</group>
		<background>
			<band height="0"  isSplitAllowed="true" >
				<printWhenExpression><![CDATA[new Boolean(false)]]></printWhenExpression>
			</band>
		</background>
		<title>
			<band height="62"  isSplitAllowed="true" >
				<subreport  isUsingCache="true">
					<reportElement
						x="0"
						y="0"
						width="444"
						height="16"
						key="subreport-1"/>
					<subreportParameter  name="titulo">
						<subreportParameterExpression><![CDATA["Relatório analítico de Alunos Matriculados no Ano"]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="subsistema">
						<subreportParameterExpression><![CDATA[$P{subSistema}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter  name="subSistemaLink">
						<subreportParameterExpression><![CDATA[$P{subSistemaLink}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression  class="java.io.InputStream"><![CDATA[this.getClass().getResourceAsStream("br/ufrn/sigaa/relatorios/fontes/tituloUFRN.jasper")]]></subreportExpression>
				</subreport>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="2"
						y="26"
						width="43"
						height="14"
						key="textField-106"
						positionType="FixRelativeToBottom"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font fontName="Arial" pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Ano: "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="45"
						y="26"
						width="228"
						height="14"
						key="textField-107"
						positionType="FixRelativeToBottom"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font fontName="Arial"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$P{ano}]]></textFieldExpression>
				</textField>
				<line direction="TopDown">
					<reportElement
						x="0"
						y="58"
						width="567"
						height="0"
						key="line-5"
						positionType="FixRelativeToBottom"/>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="2"
						y="40"
						width="43"
						height="14"
						key="textField-108"
						positionType="FixRelativeToBottom">
							<printWhenExpression><![CDATA[new Boolean($P{unidade}.intValue() > 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font fontName="Arial" pdfFontName="Helvetica-Bold" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Centro: "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="45"
						y="40"
						width="228"
						height="14"
						key="textField-109"
						positionType="FixRelativeToBottom">
							<printWhenExpression><![CDATA[new Boolean($P{unidade}.intValue() > 0)]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font fontName="Arial"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{unidade}]]></textFieldExpression>
				</textField>
			</band>
		</title>
		<pageHeader>
			<band height="25"  isSplitAllowed="true" >
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="12"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="28"
						y="0"
						width="51"
						height="12"
						key="textField-43"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Long"><![CDATA[$F{matricula}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="305"
						y="0"
						width="22"
						height="12"
						key="textField-67"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{sexo}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="28"
						height="12"
						key="textField-68"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.Integer"><![CDATA[$V{qtdRegistros}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="79"
						y="0"
						width="226"
						height="12"
						key="textField-100"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{discente_nome}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="327"
						y="0"
						width="76"
						height="12"
						key="textField-102"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{status}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="403"
						y="0"
						width="70"
						height="12"
						key="textField-103"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{forma_ingresso}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="473"
						y="0"
						width="38"
						height="12"
						key="textField-104"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{ano_ingresso}+"."+$F{periodo_ingresso}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="511"
						y="0"
						width="56"
						height="12"
						key="textField-105"
						stretchType="RelativeToTallestObject"
						isPrintInFirstWholeBand="true"
						isPrintWhenDetailOverflows="true"/>
					<box topBorder="None" topBorderColor="#000000" topPadding="1" leftBorder="None" leftBorderColor="#000000" leftPadding="2" rightBorder="None" rightBorderColor="#000000" rightPadding="2" bottomBorder="None" bottomBorderColor="#000000" bottomPadding="1"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica" size="7" isBold="false"/>
					</textElement>
				<textFieldExpression   class="java.util.Date"><![CDATA[$F{data_nascimento}]]></textFieldExpression>
				</textField>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="50"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="436"
						y="16"
						width="100"
						height="16"
						key="textField-37"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right">
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["Pág. " + $V{PAGE_NUMBER} + " de "]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Report" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="536"
						y="16"
						width="30"
						height="16"
						key="textField-38"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement>
						<font/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER} + ""]]></textFieldExpression>
				</textField>
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
